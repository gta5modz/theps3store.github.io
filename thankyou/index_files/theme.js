/*
 * jQuery FlexSlider v2.6.0
 * Copyright 2012 WooThemes
 * Contributing Author: Tyler Smith
 */
(function(e){var t=!0;e.flexslider=function(n,r){var i=e(n);i.vars=e.extend({},e.flexslider.defaults,r);var s=i.vars.namespace,o=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,u=("ontouchstart"in window||o||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,a="click touchend MSPointerUp keyup",f="",l,c=i.vars.direction==="vertical",h=i.vars.reverse,p=i.vars.itemWidth>0,d=i.vars.animation==="fade",v=i.vars.asNavFor!=="",m={};e.data(n,"flexslider",i),m={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=i.currentSlide===0||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=e(i.vars.selector,i),i.container=e(i.containerSelector,i),i.count=i.slides.length,i.syncExists=e(i.vars.sync).length>0,i.vars.animation==="slide"&&(i.vars.animation="swing"),i.prop=c?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!d&&i.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(e.style[t[n]]!==undefined)return i.pfx=t[n].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),i.ensureAnimationEnd="",i.vars.controlsContainer!==""&&(i.controlsContainer=e(i.vars.controlsContainer).length>0&&e(i.vars.controlsContainer)),i.vars.manualControls!==""&&(i.manualControls=e(i.vars.manualControls).length>0&&e(i.vars.manualControls)),i.vars.customDirectionNav!==""&&(i.customDirectionNav=e(i.vars.customDirectionNav).length===2&&e(i.vars.customDirectionNav)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&m.controlNav.setup(),i.vars.directionNav&&m.directionNav.setup(),i.vars.keyboard&&(e(i.containerSelector).length===1||i.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!i.animating&&(t===39||t===37)){var n=t===39?i.getTarget("next"):t===37?i.getTarget("prev"):!1;i.flexAnimate(n,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(e,t,n,r){e.preventDefault();var s=t<0?i.getTarget("next"):i.getTarget("prev");i.flexAnimate(s,i.vars.pauseOnAction)}),i.vars.pausePlay&&m.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&m.pauseInvisible.init();if(i.vars.slideshow){i.vars.pauseOnHover&&i.hover(function(){!i.manualPlay&&!i.manualPause&&i.pause()},function(){!i.manualPause&&!i.manualPlay&&!i.stopped&&i.play()});if(!i.vars.pauseInvisible||!m.pauseInvisible.isHidden())i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play()}v&&m.asNav.setup(),u&&i.vars.touch&&m.touch(),(!d||d&&i.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",m.resize),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(s+"active-slide").eq(i.currentItem).addClass(s+"active-slide"),o?(n._slider=i,i.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),r=n.index();!e(i.vars.asNavFor).data("flexslider").animating&&!n.hasClass("active")&&(i.direction=i.currentItem<r?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(a,function(t){t.preventDefault();var n=e(this),r=n.index(),o=n.offset().left-e(i).scrollLeft();o<=0&&n.hasClass(s+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):!e(i.vars.asNavFor).data("flexslider").animating&&!n.hasClass(s+"active-slide")&&(i.direction=i.currentItem<r?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?m.controlNav.setupManual():m.controlNav.setupPaging()},setupPaging:function(){var t=i.vars.controlNav==="thumbnails"?"control-thumbs":"control-paging",n=1,r,o;i.controlNavScaffold=e('<ol class="'+s+"control-nav "+s+t+'"></ol>');if(i.pagingCount>1)for(var u=0;u<i.pagingCount;u++){o=i.slides.eq(u),undefined===o.attr("data-thumb-alt")&&o.attr("data-thumb-alt",""),altText=""!==o.attr("data-thumb-alt")?altText=' alt="'+o.attr("data-thumb-alt")+'"':"",r=i.vars.controlNav==="thumbnails"?'<img src="'+o.attr("data-thumb")+'"'+altText+"/>":'<a href="#">'+n+"</a>";if("thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var l=o.attr("data-thumbcaption");""!==l&&undefined!==l&&(r+='<span class="'+s+'caption">'+l+"</span>")}i.controlNavScaffold.append("<li>"+r+"</li>"),n++}i.controlsContainer?e(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),m.controlNav.set(),m.controlNav.active(),i.controlNavScaffold.delegate("a, img",a,function(t){t.preventDefault();if(f===""||f===t.type){var n=e(this),r=i.controlNav.index(n);n.hasClass(s+"active")||(i.direction=r>i.currentSlide?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction))}f===""&&(f=t.type),m.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,m.controlNav.active(),i.controlNav.bind(a,function(t){t.preventDefault();if(f===""||f===t.type){var n=e(this),r=i.controlNav.index(n);n.hasClass(s+"active")||(r>i.currentSlide?i.direction="next":i.direction="prev",i.flexAnimate(r,i.vars.pauseOnAction))}f===""&&(f=t.type),m.setToClearWatchedEvent()})},set:function(){var t=i.vars.controlNav==="thumbnails"?"img":"a";i.controlNav=e("."+s+"control-nav li "+t,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(s+"active").eq(i.animatingTo).addClass(s+"active")},update:function(t,n){i.pagingCount>1&&t==="add"?i.controlNavScaffold.append(e('<li><a href="#">'+i.count+"</a></li>")):i.pagingCount===1?i.controlNavScaffold.find("li").remove():i.controlNav.eq(n).closest("li").remove(),m.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(n,t):m.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+s+'direction-nav"><li class="'+s+'nav-prev"><a class="'+s+'prev" href="#">'+i.vars.prevText+'</a></li><li class="'+s+'nav-next"><a class="'+s+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.customDirectionNav?i.directionNav=i.customDirectionNav:i.controlsContainer?(e(i.controlsContainer).append(t),i.directionNav=e("."+s+"direction-nav li a",i.controlsContainer)):(i.append(t),i.directionNav=e("."+s+"direction-nav li a",i)),m.directionNav.update(),i.directionNav.bind(a,function(t){t.preventDefault();var n;if(f===""||f===t.type)n=e(this).hasClass(s+"next")?i.getTarget("next"):i.getTarget("prev"),i.flexAnimate(n,i.vars.pauseOnAction);f===""&&(f=t.type),m.setToClearWatchedEvent()})},update:function(){var e=s+"disabled";i.pagingCount===1?i.directionNav.addClass(e).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(e).removeAttr("tabindex"):i.animatingTo===0?i.directionNav.removeClass(e).filter("."+s+"prev").addClass(e).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(e).filter("."+s+"next").addClass(e).attr("tabindex","-1"):i.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+s+'pauseplay"><a href="#"></a></div>');i.controlsContainer?(i.controlsContainer.append(t),i.pausePlay=e("."+s+"pauseplay a",i.controlsContainer)):(i.append(t),i.pausePlay=e("."+s+"pauseplay a",i)),m.pausePlay.update(i.vars.slideshow?s+"pause":s+"play"),i.pausePlay.bind(a,function(t){t.preventDefault();if(f===""||f===t.type)e(this).hasClass(s+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play());f===""&&(f=t.type),m.setToClearWatchedEvent()})},update:function(e){e==="play"?i.pausePlay.removeClass(s+"pause").addClass(s+"play").html(i.vars.playText):i.pausePlay.removeClass(s+"play").addClass(s+"pause").html(i.vars.pauseText)}},touch:function(){var e,t,r,s,u,a,f,l,v,m=!1,g=0,y=0,b=0;if(!o)f=function(o){if(i.animating)o.preventDefault();else if(window.navigator.msPointerEnabled||o.touches.length===1)i.pause(),s=c?i.h:i.w,a=Number(new Date),g=o.touches[0].pageX,y=o.touches[0].pageY,r=p&&h&&i.animatingTo===i.last?0:p&&h?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:p&&i.currentSlide===i.last?i.limit:p?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:h?(i.last-i.currentSlide+i.cloneOffset)*s:(i.currentSlide+i.cloneOffset)*s,e=c?y:g,t=c?g:y,n.addEventListener("touchmove",l,!1),n.addEventListener("touchend",v,!1)},l=function(n){g=n.touches[0].pageX,y=n.touches[0].pageY,u=c?e-y:e-g,m=c?Math.abs(u)<Math.abs(g-t):Math.abs(u)<Math.abs(y-t);var o=500;if(!m||Number(new Date)-a>o)n.preventDefault(),!d&&i.transitions&&(i.vars.animationLoop||(u/=i.currentSlide===0&&u<0||i.currentSlide===i.last&&u>0?Math.abs(u)/s+2:1),i.setProps(r+u,"setTouch"))},v=function(o){n.removeEventListener("touchmove",l,!1);if(i.animatingTo===i.currentSlide&&!m&&u!==null){var f=h?-u:u,c=f>0?i.getTarget("next"):i.getTarget("prev");i.canAdvance(c)&&(Number(new Date)-a<550&&Math.abs(f)>50||Math.abs(f)>s/2)?i.flexAnimate(c,i.vars.pauseOnAction):d||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}n.removeEventListener("touchend",v,!1),e=null,t=null,u=null,r=null},n.addEventListener("touchstart",f,!1);else{n.style.msTouchAction="none",n._gesture=new MSGesture,n._gesture.target=n,n.addEventListener("MSPointerDown",w,!1),n._slider=i,n.addEventListener("MSGestureChange",E,!1),n.addEventListener("MSGestureEnd",S,!1);function w(e){e.stopPropagation(),i.animating?e.preventDefault():(i.pause(),n._gesture.addPointer(e.pointerId),b=0,s=c?i.h:i.w,a=Number(new Date),r=p&&h&&i.animatingTo===i.last?0:p&&h?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:p&&i.currentSlide===i.last?i.limit:p?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:h?(i.last-i.currentSlide+i.cloneOffset)*s:(i.currentSlide+i.cloneOffset)*s)}function E(e){e.stopPropagation();var t=e.target._slider;if(!t)return;var i=-e.translationX,o=-e.translationY;b+=c?o:i,u=b,m=c?Math.abs(b)<Math.abs(-i):Math.abs(b)<Math.abs(-o);if(e.detail===e.MSGESTURE_FLAG_INERTIA){setImmediate(function(){n._gesture.stop()});return}if(!m||Number(new Date)-a>500)e.preventDefault(),!d&&t.transitions&&(t.vars.animationLoop||(u=b/(t.currentSlide===0&&b<0||t.currentSlide===t.last&&b>0?Math.abs(b)/s+2:1)),t.setProps(r+u,"setTouch"))}function S(n){n.stopPropagation();var i=n.target._slider;if(!i)return;if(i.animatingTo===i.currentSlide&&!m&&u!==null){var o=h?-u:u,f=o>0?i.getTarget("next"):i.getTarget("prev");i.canAdvance(f)&&(Number(new Date)-a<550&&Math.abs(o)>50||Math.abs(o)>s/2)?i.flexAnimate(f,i.vars.pauseOnAction):d||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}e=null,t=null,u=null,r=null,b=0}}},resize:function(){!i.animating&&i.is(":visible")&&(p||i.doMath(),d?m.smoothHeight():p?(i.slides.width(i.computedW),i.update(i.pagingCount),i.setProps()):c?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&m.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(e){if(!c||d){var t=d?i:i.viewport;e?t.animate({height:i.slides.eq(i.animatingTo).height()},e):t.height(i.slides.eq(i.animatingTo).height())}},sync:function(t){var n=e(i.vars.sync).data("flexslider"),r=i.animatingTo;switch(t){case"animate":n.flexAnimate(r,i.vars.pauseOnAction,!1,!0);break;case"play":!n.playing&&!n.asNav&&n.play();break;case"pause":n.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=m.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(t,function(){m.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){var e=m.pauseInvisible.getHiddenProp();return e?document[e]:!1},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(l),l=setTimeout(function(){f=""},3e3)}},i.flexAnimate=function(t,n,r,o,a){!i.vars.animationLoop&&t!==i.currentSlide&&(i.direction=t>i.currentSlide?"next":"prev"),v&&i.pagingCount===1&&(i.direction=i.currentItem<t?"next":"prev");if(!i.animating&&(i.canAdvance(t,a)||r)&&i.is(":visible")){if(v&&o){var f=e(i.vars.asNavFor).data("flexslider");i.atEnd=t===0||t===i.count-1,f.flexAnimate(t,!0,!1,!0,a),i.direction=i.currentItem<t?"next":"prev",f.direction=i.direction;if(Math.ceil((t+1)/i.visible)-1===i.currentSlide||t===0)return i.currentItem=t,i.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),!1;i.currentItem=t,i.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),t=Math.floor(t/i.visible)}i.animating=!0,i.animatingTo=t,n&&i.pause(),i.vars.before(i),i.syncExists&&!a&&m.sync("animate"),i.vars.controlNav&&m.controlNav.active(),p||i.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),i.atEnd=t===0||t===i.last,i.vars.directionNav&&m.directionNav.update(),t===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause());if(!d){var l=c?i.slides.filter(":first").height():i.computedW,g,y,b;p?(g=i.vars.itemMargin,b=(i.itemW+g)*i.move*i.animatingTo,y=b>i.limit&&i.visible!==1?i.limit:b):i.currentSlide===0&&t===i.count-1&&i.vars.animationLoop&&i.direction!=="next"?y=h?(i.count+i.cloneOffset)*l:0:i.currentSlide===i.last&&t===0&&i.vars.animationLoop&&i.direction!=="prev"?y=h?0:(i.count+1)*l:y=h?(i.count-1-t+i.cloneOffset)*l:(t+i.cloneOffset)*l,i.setProps(y,"",i.vars.animationSpeed);if(i.transitions){if(!i.vars.animationLoop||!i.atEnd)i.animating=!1,i.currentSlide=i.animatingTo;i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(i.ensureAnimationEnd),i.wrapup(l)}),clearTimeout(i.ensureAnimationEnd),i.ensureAnimationEnd=setTimeout(function(){i.wrapup(l)},i.vars.animationSpeed+100)}else i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(l)})}else u?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(t).css({opacity:1,zIndex:2}),i.wrapup(l)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(t).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));i.vars.smoothHeight&&m.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(e){!d&&!p&&(i.currentSlide===0&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(e,"jumpEnd"):i.currentSlide===i.last&&i.animatingTo===0&&i.vars.animationLoop&&i.setProps(e,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&t&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&m.pausePlay.update("play"),i.syncExists&&m.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&m.pausePlay.update("pause"),i.syncExists&&m.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(e,t){var n=v?i.pagingCount-1:i.last;return t?!0:v&&i.currentItem===i.count-1&&e===0&&i.direction==="prev"?!0:v&&i.currentItem===0&&e===i.pagingCount-1&&i.direction!=="next"?!1:e===i.currentSlide&&!v?!1:i.vars.animationLoop?!0:i.atEnd&&i.currentSlide===0&&e===n&&i.direction!=="next"?!1:i.atEnd&&i.currentSlide===n&&e===0&&i.direction==="next"?!1:!0},i.getTarget=function(e){return i.direction=e,e==="next"?i.currentSlide===i.last?0:i.currentSlide+1:i.currentSlide===0?i.last:i.currentSlide-1},i.setProps=function(e,t,n){var r=function(){var n=e?e:(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo,r=function(){if(p)return t==="setTouch"?e:h&&i.animatingTo===i.last?0:h?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:n;switch(t){case"setTotal":return h?(i.count-1-i.currentSlide+i.cloneOffset)*e:(i.currentSlide+i.cloneOffset)*e;case"setTouch":return h?e:e;case"jumpEnd":return h?e:i.count*e;case"jumpStart":return h?i.count*e:e;default:return e}}();return r*-1+"px"}();i.transitions&&(r=c?"translate3d(0,"+r+",0)":"translate3d("+r+",0,0)",n=n!==undefined?n/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",n),i.container.css("transition-duration",n)),i.args[i.prop]=r,(i.transitions||n===undefined)&&i.container.css(i.args),i.container.css("transform",r)},i.setup=function(t){if(!d){var n,r;t==="init"&&(i.viewport=e('<div class="'+s+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,h&&(r=e.makeArray(i.slides).reverse(),i.slides=e(r),i.container.empty().append(i.slides))),i.vars.animationLoop&&!p&&(i.cloneCount=2,i.cloneOffset=1,t!=="init"&&i.container.find(".clone").remove(),i.container.append(m.uniqueID(i.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(m.uniqueID(i.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),i.newSlides=e(i.vars.selector,i),n=h?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,c&&!p?(i.container.height((i.count+i.cloneCount)*200+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(n*i.h,"init")},t==="init"?100:0)):(i.container.width((i.count+i.cloneCount)*200+"%"),i.setProps(n*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:i.computedW,marginRight:i.computedM,"float":"left",display:"block"}),i.vars.smoothHeight&&m.smoothHeight()},t==="init"?100:0))}else i.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),t==="init"&&(u?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):i.vars.fadeFirstSlide==0?i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).css({opacity:1}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&m.smoothHeight();p||i.slides.removeClass(s+"active-slide").eq(i.currentSlide).addClass(s+"active-slide"),i.vars.init(i)},i.doMath=function(){var e=i.slides.first(),t=i.vars.itemMargin,n=i.vars.minItems,r=i.vars.maxItems;i.w=i.viewport===undefined?i.width():i.viewport.width(),i.h=e.height(),i.boxPadding=e.outerWidth()-e.width(),p?(i.itemT=i.vars.itemWidth+t,i.itemM=t,i.minW=n?n*i.itemT:i.w,i.maxW=r?r*i.itemT-t:i.w,i.itemW=i.minW>i.w?(i.w-t*(n-1))/n:i.maxW<i.w?(i.w-t*(r-1))/r:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=i.pagingCount===1?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+t*(i.count-1):(i.itemW+t)*i.count-i.w-t):(i.itemW=i.w,i.itemM=t,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding,i.computedM=i.itemM},i.update=function(e,t){i.doMath(),p||(e<i.currentSlide?i.currentSlide+=1:e<=i.currentSlide&&e!==0&&(i.currentSlide-=1),i.animatingTo=i.currentSlide);if(i.vars.controlNav&&!i.manualControls)if(t==="add"&&!p||i.pagingCount>i.controlNav.length)m.controlNav.update("add");else if(t==="remove"&&!p||i.pagingCount<i.controlNav.length)p&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),m.controlNav.update("remove",i.last);i.vars.directionNav&&m.directionNav.update()},i.addSlide=function(t,n){var r=e(t);i.count+=1,i.last=i.count-1,c&&h?n!==undefined?i.slides.eq(i.count-n).after(r):i.container.prepend(r):n!==undefined?i.slides.eq(n).before(r):i.container.append(r),i.update(n,"add"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)},i.removeSlide=function(t){var n=isNaN(t)?i.slides.index(e(t)):t;i.count-=1,i.last=i.count-1,isNaN(t)?e(t,i.slides).remove():c&&h?i.slides.eq(i.last).remove():i.slides.eq(t).remove(),i.doMath(),i.update(n,"remove"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},m.init()},e(window).blur(function(e){t=!1}).focus(function(e){t=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){t===undefined&&(t={});if(typeof t=="object")return this.each(function(){var n=e(this),r=t.selector?t.selector:".slides > li",i=n.find(r);i.length===1&&t.allowOneSlide===!0||i.length===0?(i.fadeIn(400),t.start&&t.start(n)):n.data("flexslider")===undefined&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:typeof t=="number"&&n.flexAnimate(t,!0)}}})(jQuery),function(e){typeof define=="function"&&define.amd?define(["jquery"],e):typeof exports=="object"?e(require("jquery")):e(window.jQuery||window.Zepto)}(function(e){var t="Close",n="BeforeClose",r="AfterClose",i="BeforeAppend",s="MarkupParse",o="Open",u="Change",a="mfp",f="."+a,l="mfp-ready",c="mfp-removing",h="mfp-prevent-close",p,d=function(){},v=!!window.jQuery,m,g=e(window),y,b,w,E,S=function(e,t){p.ev.on(a+e+f,t)},x=function(t,n,r,i){var s=document.createElement("div");return s.className="mfp-"+t,r&&(s.innerHTML=r),i?n&&n.appendChild(s):(s=e(s),n&&s.appendTo(n)),s},T=function(t,n){p.ev.triggerHandler(a+t,n),p.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),p.st.callbacks[t]&&p.st.callbacks[t].apply(p,e.isArray(n)?n:[n]))},N=function(t){if(t!==E||!p.currTemplate.closeBtn)p.currTemplate.closeBtn=e(p.st.closeMarkup.replace("%title%",p.st.tClose)),E=t;return p.currTemplate.closeBtn},C=function(){e.magnificPopup.instance||(p=new d,p.init(),e.magnificPopup.instance=p)},k=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(e.transition!==undefined)return!0;while(t.length)if(t.pop()+"Transition"in e)return!0;return!1};d.prototype={constructor:d,init:function(){var t=navigator.appVersion;p.isIE7=t.indexOf("MSIE 7.")!==-1,p.isIE8=t.indexOf("MSIE 8.")!==-1,p.isLowIE=p.isIE7||p.isIE8,p.isAndroid=/android/gi.test(t),p.isIOS=/iphone|ipad|ipod/gi.test(t),p.supportsTransition=k(),p.probablyMobile=p.isAndroid||p.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),y=e(document),p.popupsCache={}},open:function(t){var n;if(t.isObj===!1){p.items=t.items.toArray(),p.index=0;var r=t.items,i;for(n=0;n<r.length;n++){i=r[n],i.parsed&&(i=i.el[0]);if(i===t.el[0]){p.index=n;break}}}else p.items=e.isArray(t.items)?t.items:[t.items],p.index=t.index||0;if(p.isOpen){p.updateItemHTML();return}p.types=[],w="",t.mainEl&&t.mainEl.length?p.ev=t.mainEl.eq(0):p.ev=y,t.key?(p.popupsCache[t.key]||(p.popupsCache[t.key]={}),p.currTemplate=p.popupsCache[t.key]):p.currTemplate={},p.st=e.extend(!0,{},e.magnificPopup.defaults,t),p.fixedContentPos=p.st.fixedContentPos==="auto"?!p.probablyMobile:p.st.fixedContentPos,p.st.modal&&(p.st.closeOnContentClick=!1,p.st.closeOnBgClick=!1,p.st.showCloseBtn=!1,p.st.enableEscapeKey=!1),p.bgOverlay||(p.bgOverlay=x("bg").on("click"+f,function(){p.close()}),p.wrap=x("wrap").attr("tabindex",-1).on("click"+f,function(e){p._checkIfClose(e.target)&&p.close()}),p.container=x("container",p.wrap)),p.contentContainer=x("content"),p.st.preloader&&(p.preloader=x("preloader",p.container,p.st.tLoading));var u=e.magnificPopup.modules;for(n=0;n<u.length;n++){var a=u[n];a=a.charAt(0).toUpperCase()+a.slice(1),p["init"+a].call(p)}T("BeforeOpen"),p.st.showCloseBtn&&(p.st.closeBtnInside?(S(s,function(e,t,n,r){n.close_replaceWith=N(r.type)}),w+=" mfp-close-btn-in"):p.wrap.append(N())),p.st.alignTop&&(w+=" mfp-align-top"),p.fixedContentPos?p.wrap.css({overflow:p.st.overflowY,overflowX:"hidden",overflowY:p.st.overflowY}):p.wrap.css({top:g.scrollTop(),position:"absolute"}),(p.st.fixedBgPos===!1||p.st.fixedBgPos==="auto"&&!p.fixedContentPos)&&p.bgOverlay.css({height:y.height(),position:"absolute"}),p.st.enableEscapeKey&&y.on("keyup"+f,function(e){e.keyCode===27&&p.close()}),g.on("resize"+f,function(){p.updateSize()}),p.st.closeOnContentClick||(w+=" mfp-auto-cursor"),w&&p.wrap.addClass(w);var c=p.wH=g.height(),h={};if(p.fixedContentPos&&p._hasScrollBar(c)){var d=p._getScrollbarSize();d&&(h.marginRight=d)}p.fixedContentPos&&(p.isIE7?e("body, html").css("overflow","hidden"):h.overflow="hidden");var v=p.st.mainClass;return p.isIE7&&(v+=" mfp-ie7"),v&&p._addClassToMFP(v),p.updateItemHTML(),T("BuildControls"),e("html").css(h),p.bgOverlay.add(p.wrap).prependTo(p.st.prependTo||e(document.body)),p._lastFocusedEl=document.activeElement,setTimeout(function(){p.content?(p._addClassToMFP(l),p._setFocus()):p.bgOverlay.addClass(l),y.on("focusin"+f,p._onFocusIn)},16),p.isOpen=!0,p.updateSize(c),T(o),t},close:function(){if(!p.isOpen)return;T(n),p.isOpen=!1,p.st.removalDelay&&!p.isLowIE&&p.supportsTransition?(p._addClassToMFP(c),setTimeout(function(){p._close()},p.st.removalDelay)):p._close()},_close:function(){T(t);var n=c+" "+l+" ";p.bgOverlay.detach(),p.wrap.detach(),p.container.empty(),p.st.mainClass&&(n+=p.st.mainClass+" "),p._removeClassFromMFP(n);if(p.fixedContentPos){var i={marginRight:""};p.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}y.off("keyup"+f+" focusin"+f),p.ev.off(f),p.wrap.attr("class","mfp-wrap").removeAttr("style"),p.bgOverlay.attr("class","mfp-bg"),p.container.attr("class","mfp-container"),p.st.showCloseBtn&&(!p.st.closeBtnInside||p.currTemplate[p.currItem.type]===!0)&&p.currTemplate.closeBtn&&p.currTemplate.closeBtn.detach(),p._lastFocusedEl&&e(p._lastFocusedEl).focus(),p.currItem=null,p.content=null,p.currTemplate=null,p.prevHeight=0,T(r)},updateSize:function(e){if(p.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*t;p.wrap.css("height",n),p.wH=n}else p.wH=e||g.height();p.fixedContentPos||p.wrap.css("height",p.wH),T("Resize")},updateItemHTML:function(){var t=p.items[p.index];p.contentContainer.detach(),p.content&&p.content.detach(),t.parsed||(t=p.parseEl(p.index));var n=t.type;T("BeforeChange",[p.currItem?p.currItem.type:"",n]),p.currItem=t;if(!p.currTemplate[n]){var r=p.st[n]?p.st[n].markup:!1;T("FirstMarkupParse",r),r?p.currTemplate[n]=e(r):p.currTemplate[n]=!0}b&&b!==t.type&&p.container.removeClass("mfp-"+b+"-holder");var i=p["get"+n.charAt(0).toUpperCase()+n.slice(1)](t,p.currTemplate[n]);p.appendContent(i,n),t.preloaded=!0,T(u,t),b=t.type,p.container.prepend(p.contentContainer),T("AfterChange")},appendContent:function(e,t){p.content=e,e?p.st.showCloseBtn&&p.st.closeBtnInside&&p.currTemplate[t]===!0?p.content.find(".mfp-close").length||p.content.append(N()):p.content=e:p.content="",T(i),p.container.addClass("mfp-"+t+"-holder"),p.contentContainer.append(p.content)},parseEl:function(t){var n=p.items[t],r;n.tagName?n={el:e(n)}:(r=n.type,n={data:n,src:n.src});if(n.el){var i=p.types;for(var s=0;s<i.length;s++)if(n.el.hasClass("mfp-"+i[s])){r=i[s];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=r||p.st.type||"inline",n.index=t,n.parsed=!0,p.items[t]=n,T("ElementParse",n),p.items[t]},addGroup:function(e,t){var n=function(n){n.mfpEl=this,p._openClick(n,e,t)};t||(t={});var r="click.magnificPopup";t.mainEl=e,t.items?(t.isObj=!0,e.off(r).on(r,n)):(t.isObj=!1,t.delegate?e.off(r).on(r,t.delegate,n):(t.items=e,e.off(r).on(r,n)))},_openClick:function(t,n,r){var i=r.midClick!==undefined?r.midClick:e.magnificPopup.defaults.midClick;if(!i&&(t.which===2||t.ctrlKey||t.metaKey))return;var s=r.disableOn!==undefined?r.disableOn:e.magnificPopup.defaults.disableOn;if(s)if(e.isFunction(s)){if(!s.call(p))return!0}else if(g.width()<s)return!0;t.type&&(t.preventDefault(),p.isOpen&&t.stopPropagation()),r.el=e(t.mfpEl),r.delegate&&(r.items=n.find(r.delegate)),p.open(r)},updateStatus:function(e,t){if(p.preloader){m!==e&&p.container.removeClass("mfp-s-"+m),!t&&e==="loading"&&(t=p.st.tLoading);var n={status:e,text:t};T("UpdateStatus",n),e=n.status,t=n.text,p.preloader.html(t),p.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),p.container.addClass("mfp-s-"+e),m=e}},_checkIfClose:function(t){if(e(t).hasClass(h))return;var n=p.st.closeOnContentClick,r=p.st.closeOnBgClick;if(n&&r)return!0;if(!p.content||e(t).hasClass("mfp-close")||p.preloader&&t===p.preloader[0])return!0;if(t!==p.content[0]&&!e.contains(p.content[0],t)){if(e(t).closest(".mfp-arrow").hasClass("mfp-prevent-close"))return;if(r&&e.contains(document,t))return!0}else if(n)return!0;return!1},_addClassToMFP:function(e){p.bgOverlay.addClass(e),p.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),p.wrap.removeClass(e)},_hasScrollBar:function(e){return(p.isIE7?y.height():document.body.scrollHeight)>(e||g.height())},_setFocus:function(){(p.st.focus?p.content.find(p.st.focus).eq(0):p.wrap).focus()},_onFocusIn:function(t){if(t.target!==p.wrap[0]&&!e.contains(p.wrap[0],t.target))return p._setFocus(),!1},_parseMarkup:function(t,n,r){var i;r.data&&(n=e.extend(r.data,n)),T(s,[t,n,r]),e.each(n,function(e,n){if(n===undefined||n===!1)return!0;i=e.split("_");if(i.length>1){var r=t.find(f+"-"+i[0]);if(r.length>0){var s=i[1];s==="replaceWith"?r[0]!==n[0]&&r.replaceWith(n):s==="img"?r.is("img")?r.attr("src",n):r.replaceWith('<img src="'+n+'" class="'+r.attr("class")+'" />'):r.attr(i[1],n)}}else t.find(f+"-"+e).html(n)})},_getScrollbarSize:function(){if(p.scrollbarSize===undefined){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),p.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return p.scrollbarSize}},e.magnificPopup={instance:null,proto:d.prototype,modules:[],open:function(t,n){return C(),t?t=e.extend(!0,{},t):t={},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close"><svg class="remove_icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.1 14.1" enable-background="new 0 0 14.1 14.1"><path d="M14.1 1.1l-1.1-1.1-6 6-5.9-6-1.1 1.1 6 5.9-6 6 1.1 1.1 5.9-6 6 6 1.1-1.1-6-6z"/></svg></button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(t){C();var n=e(this);if(typeof t=="string")if(t==="open"){var r,i=v?n.data("magnificPopup"):n[0].magnificPopup,s=parseInt(arguments[1],10)||0;i.items?r=i.items[s]:(r=n,i.delegate&&(r=r.find(i.delegate)),r=r.eq(s)),p._openClick({mfpEl:r},n,i)}else p.isOpen&&p[t].apply(p,Array.prototype.slice.call(arguments,1));else t=e.extend(!0,{},t),v?n.data("magnificPopup",t):n[0].magnificPopup=
t,p.addGroup(n,t);return n};var L="inline",A,O,M,_=function(){M&&(O.after(M.addClass(A)).detach(),M=null)};e.magnificPopup.registerModule(L,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){p.types.push(L),S(t+"."+L,function(){_()})},getInline:function(t,n){_();if(t.src){var r=p.st.inline,i=e(t.src);if(i.length){var s=i[0].parentNode;s&&s.tagName&&(O||(A=r.hiddenClass,O=x(A),A="mfp-"+A),M=i.after(O).detach().removeClass(A)),p.updateStatus("ready")}else p.updateStatus("error",r.tNotFound),i=e("<div>");return t.inlineElement=i,i}return p.updateStatus("ready"),p._parseMarkup(n,{},t),n}}});var D="ajax",P,H=function(){P&&e(document.body).removeClass(P)},B=function(){H(),p.req&&p.req.abort()};e.magnificPopup.registerModule(D,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){p.types.push(D),P=p.st.ajax.cursor,S(t+"."+D,B),S("BeforeChange."+D,B)},getAjax:function(t){P&&e(document.body).addClass(P),p.updateStatus("loading");var n=e.extend({url:t.src,success:function(n,r,i){var s={data:n,xhr:i};T("ParseAjax",s),p.appendContent(e(s.data),D),t.finished=!0,H(),p._setFocus(),setTimeout(function(){p.wrap.addClass(l)},16),p.updateStatus("ready"),T("AjaxContentAdded")},error:function(){H(),t.finished=t.loadError=!0,p.updateStatus("error",p.st.ajax.tError.replace("%url%",t.src))}},p.st.ajax.settings);return p.req=e.ajax(n),""}}});var j,F=function(t){if(t.data&&t.data.title!==undefined)return t.data.title;var n=p.st.image.titleSrc;if(n){if(e.isFunction(n))return n.call(p,t);if(t.el)return t.el.attr(n)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div><div class="mfp-close"></div><figure><div class="mfp-img"></div></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var n=p.st.image,r=".image";p.types.push("image"),S(o+r,function(){p.currItem.type==="image"&&n.cursor&&e(document.body).addClass(n.cursor)}),S(t+r,function(){n.cursor&&e(document.body).removeClass(n.cursor),g.off("resize"+f)}),S("Resize"+r,p.resizeImage),p.isLowIE&&S("AfterChange",p.resizeImage)},resizeImage:function(){var e=p.currItem;if(!e||!e.img)return;if(p.st.image.verticalFit){var t=0;p.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",p.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,j&&clearInterval(j),e.isCheckingImgSize=!1,T("ImageHasSize",e),e.imgHidden&&(p.content&&p.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var t=0,n=e.img[0],r=function(i){j&&clearInterval(j),j=setInterval(function(){if(n.naturalWidth>0){p._onImageHasSize(e);return}t>200&&clearInterval(j),t++,t===3?r(10):t===40?r(50):t===100&&r(500)},i)};r(1)},getImage:function(t,n){var r=0,i=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===p.currItem&&(p._onImageHasSize(t),p.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,T("ImageLoadComplete")):(r++,r<200?setTimeout(i,100):s()))},s=function(){t&&(t.img.off(".mfploader"),t===p.currItem&&(p._onImageHasSize(t),p.updateStatus("error",o.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},o=p.st.image,u=n.find(".mfp-img");if(u.length){var a=document.createElement("img");a.className="mfp-img",t.el&&t.el.find("img").length&&(a.alt=t.el.find("img").attr("alt")),t.img=e(a).on("load.mfploader",i).on("error.mfploader",s),a.src=t.src,u.is("img")&&(t.img=t.img.clone()),a=t.img[0],a.naturalWidth>0?t.hasSize=!0:a.width||(t.hasSize=!1)}return p._parseMarkup(n,{title:F(t),img_replaceWith:t.img},t),p.resizeImage(),t.hasSize?(j&&clearInterval(j),t.loadError?(n.addClass("mfp-loading"),p.updateStatus("error",o.tError.replace("%url%",t.src))):(n.removeClass("mfp-loading"),p.updateStatus("ready")),n):(p.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,n.addClass("mfp-loading"),p.findImageSize(t)),n)}}});var I,q=function(){return I===undefined&&(I=document.createElement("p").style.MozTransform!==undefined),I};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e=p.st.zoom,r=".zoom",i;if(!e.enabled||!p.supportsTransition)return;var s=e.duration,o=function(t){var n=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),r="all "+e.duration/1e3+"s "+e.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},s="transition";return i["-webkit-"+s]=i["-moz-"+s]=i["-o-"+s]=i[s]=r,n.css(i),n},u=function(){p.content.css("visibility","visible")},a,f;S("BuildControls"+r,function(){if(p._allowZoom()){clearTimeout(a),p.content.css("visibility","hidden"),i=p._getItemToZoom();if(!i){u();return}f=o(i),f.css(p._getOffset()),p.wrap.append(f),a=setTimeout(function(){f.css(p._getOffset(!0)),a=setTimeout(function(){u(),setTimeout(function(){f.remove(),i=f=null,T("ZoomAnimationEnded")},16)},s)},16)}}),S(n+r,function(){if(p._allowZoom()){clearTimeout(a),p.st.removalDelay=s;if(!i){i=p._getItemToZoom();if(!i)return;f=o(i)}f.css(p._getOffset(!0)),p.wrap.append(f),p.content.css("visibility","hidden"),setTimeout(function(){f.css(p._getOffset())},16)}}),S(t+r,function(){p._allowZoom()&&(u(),f&&f.remove(),i=null)})},_allowZoom:function(){return p.currItem.type==="image"},_getItemToZoom:function(){return p.currItem.hasSize?p.currItem.img:!1},_getOffset:function(t){var n;t?n=p.currItem.img:n=p.st.zoom.opener(p.currItem.el||p.currItem);var r=n.offset(),i=parseInt(n.css("padding-top"),10),s=parseInt(n.css("padding-bottom"),10);r.top-=e(window).scrollTop()-i;var o={width:n.width(),height:(v?n.innerHeight():n[0].offsetHeight)-s-i};return q()?o["-moz-transform"]=o.transform="translate("+r.left+"px,"+r.top+"px)":(o.left=r.left,o.top=r.top),o}}});var R="iframe",U="//about:blank",z=function(e){if(p.currTemplate[R]){var t=p.currTemplate[R].find("iframe");t.length&&(e||(t[0].src=U),p.isIE8&&t.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(R,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){p.types.push(R),S("BeforeChange",function(e,t,n){t!==n&&(t===R?z():n===R&&z(!0))}),S(t+"."+R,function(){z()})},getIframe:function(t,n){var r=t.src,i=p.st.iframe;e.each(i.patterns,function(){if(r.indexOf(this.index)>-1)return this.id&&(typeof this.id=="string"?r=r.substr(r.lastIndexOf(this.id)+this.id.length,r.length):r=this.id.call(this,r)),r=this.src.replace("%id%",r),!1});var s={};return i.srcAction&&(s[i.srcAction]=r),p._parseMarkup(n,s,t),p.updateStatus("ready"),n}}});var W=function(e){var t=p.items.length;return e>t-1?e-t:e<0?t+e:e},X=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<a title="%title%" class="mfp-arrow mfp-arrow-%dir%"></a>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=p.st.gallery,r=".mfp-gallery",i=Boolean(e.fn.mfpFastClick);p.direction=!0;if(!n||!n.enabled)return!1;w+=" mfp-gallery",S(o+r,function(){n.navigateByImgClick&&p.wrap.on("click"+r,".mfp-img",function(){if(p.items.length>1)return p.next(),!1}),y.on("keydown"+r,function(e){e.keyCode===37?p.prev():e.keyCode===39&&p.next()})}),S("UpdateStatus"+r,function(e,t){t.text&&(t.text=X(t.text,p.currItem.index,p.items.length))}),S(s+r,function(e,t,r,i){var s=p.items.length;r.counter=s>1?X(n.tCounter,i.index,s):""}),S("BuildControls"+r,function(){if(p.items.length>1&&n.arrows&&!p.arrowLeft){var t=n.arrowMarkup,r=p.arrowLeft=e(t.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(h).html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7.6 15" enable-background="new 0 0 7.6 15"><path d="M6.4 15l-6.4-7.5 6.3-7.5 1.1 1-5.4 6.5 5.6 6.5z"/></svg>'),s=p.arrowRight=e(t.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(h).html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7.6 15" enable-background="new 0 0 7.6 15"><path d="M1.1 0l6.5 7.5-6.3 7.5-1.2-1 5.5-6.5-5.6-6.5z"/></svg>'),o=i?"mfpFastClick":"click";r[o](function(){p.prev()}),s[o](function(){p.next()}),p.isIE7&&(x("b",r[0],!1,!0),x("a",r[0],!1,!0),x("b",s[0],!1,!0),x("a",s[0],!1,!0)),p.container.append(r.add(s))}}),S(u+r,function(){p._preloadTimeout&&clearTimeout(p._preloadTimeout),p._preloadTimeout=setTimeout(function(){p.preloadNearbyImages(),p._preloadTimeout=null},16)}),S(t+r,function(){y.off(r),p.wrap.off("click"+r),p.arrowLeft&&i&&p.arrowLeft.add(p.arrowRight).destroyMfpFastClick(),p.arrowRight=p.arrowLeft=null})},next:function(){p.direction=!0,p.index=W(p.index+1),p.updateItemHTML()},prev:function(){p.direction=!1,p.index=W(p.index-1),p.updateItemHTML()},goTo:function(e){p.direction=e>=p.index,p.index=e,p.updateItemHTML()},preloadNearbyImages:function(){var e=p.st.gallery.preload,t=Math.min(e[0],p.items.length),n=Math.min(e[1],p.items.length),r;for(r=1;r<=(p.direction?n:t);r++)p._preloadItem(p.index+r);for(r=1;r<=(p.direction?t:n);r++)p._preloadItem(p.index-r)},_preloadItem:function(t){t=W(t);if(p.items[t].preloaded)return;var n=p.items[t];n.parsed||(n=p.parseEl(t)),T("LazyLoad",n),n.type==="image"&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,T("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}});var V="retina";e.magnificPopup.registerModule(V,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=p.st.retina,t=e.ratio;t=isNaN(t)?t():t,t>1&&(S("ImageHasSize."+V,function(e,n){n.img.css({"max-width":n.img[0].naturalWidth/t,width:"100%"})}),S("ElementParse."+V,function(n,r){r.src=e.replaceSrc(r,t)}))}}}}),function(){var t=1e3,n="ontouchstart"in window,r=function(){g.off("touchmove"+s+" touchend"+s)},i="mfpFastClick",s="."+i;e.fn.mfpFastClick=function(i){return e(this).each(function(){var o=e(this),u;if(n){var a,f,l,c,h,p;o.on("touchstart"+s,function(e){c=!1,p=1,h=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],f=h.clientX,l=h.clientY,g.on("touchmove"+s,function(e){h=e.originalEvent?e.originalEvent.touches:e.touches,p=h.length,h=h[0];if(Math.abs(h.clientX-f)>10||Math.abs(h.clientY-l)>10)c=!0,r()}).on("touchend"+s,function(e){r();if(c||p>1)return;u=!0,e.preventDefault(),clearTimeout(a),a=setTimeout(function(){u=!1},t),i()})})}o.on("click"+s,function(){u||i()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+s+" click"+s),n&&g.off("touchmove"+s+" touchend"+s)}}(),C()}),$(function(){$(".product_images a").magnificPopup({type:"image",tLoading:"",gallery:{enabled:!0}}),$(".open_menu").click(function(e){e.preventDefault(),$(this).toggleClass("open"),$("aside").toggleClass("open")}),$(".remove a").click(function(e){e.preventDefault(),$(this).closest("li").find("input[id$=_qty]").val(0).closest("form").submit()}),$('[name*="cart[update]"]').on("change",function(){$(this).closest("form").submit()}),$(".search_form input").on("focus",function(){$(this).parent().addClass("focus")}).on("blur",function(){$(this).parent().removeClass("focus"),$(this).val("")}),$(window).on("load resize",function(){$("body").css("margin-bottom",$("footer").height())})});